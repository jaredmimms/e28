(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9777ae2"],{"8fdc":function(t,e,r){"use strict";r.r(e);r("b0c0");var n=r("7a23"),c={id:"account-page"},o={key:0},a={id:"favorites"},i=Object(n["g"])("strong",null,"Your Favorites",-1),s={key:0},u=Object(n["g"])("p",null,"No favorites yet.",-1),l={key:1},b={key:1,id:"loginForm"},d={key:0},g=Object(n["g"])("h2",null,"Login",-1),j=Object(n["f"])(" Email: "),O=Object(n["f"])(" Password: "),p={key:0},f={key:1},v=Object(n["g"])("h2",null,"Register",-1),m=Object(n["f"])(" Email: "),y=Object(n["f"])(" Name: "),h=Object(n["f"])(" Password: "),k={key:0},w={key:2},D={key:3},T={key:4};function U(t,e,r,U,E,B){return Object(n["p"])(),Object(n["d"])("div",c,[B.user&&B.user.name?(Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])("h2",null,"Hi, "+Object(n["y"])(B.user.name)+"!",1),Object(n["g"])("div",a,[i,E.favorites&&0==E.favorites.length?(Object(n["p"])(),Object(n["d"])("div",s,[u])):(Object(n["p"])(),Object(n["d"])("div",l,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.favorites,(function(t,e){return Object(n["p"])(),Object(n["d"])("li",{key:e},Object(n["y"])(t.title),1)})),128))]))]),Object(n["g"])("button",{onClick:e[1]||(e[1]=function(){return B.logout&&B.logout.apply(B,arguments)})},"Logout")])):(Object(n["p"])(),Object(n["d"])("div",b,[E.registerToggle?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",d,[g,Object(n["g"])("div",null,[Object(n["g"])("label",null,[j,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=function(t){return E.data.email=t})},null,512),[[n["B"],E.data.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[O,Object(n["E"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=function(t){return E.data.password=t})},null,512),[[n["B"],E.data.password]])])]),Object(n["g"])("button",{onClick:e[4]||(e[4]=function(){return B.login&&B.login.apply(B,arguments)})},"Login"),E.errors?(Object(n["p"])(),Object(n["d"])("ul",p,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.errors,(function(t,e){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:e},Object(n["y"])(t),1)})),128))])):Object(n["e"])("",!0)])),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",f,[v,Object(n["g"])("div",null,[Object(n["g"])("label",null,[m,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=function(t){return E.registerData.email=t})},null,512),[[n["B"],E.registerData.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[y,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=function(t){return E.registerData.name=t})},null,512),[[n["B"],E.registerData.name]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[h,Object(n["E"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=function(t){return E.registerData.password=t})},null,512),[[n["B"],E.registerData.password]])])]),E.errors?(Object(n["p"])(),Object(n["d"])("ul",k,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.errors,(function(t,e){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:e},Object(n["y"])(t),1)})),128))])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),E.registerToggle?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",w,[Object(n["g"])("button",{onClick:e[8]||(e[8]=function(t){return E.registerToggle=!0})},"Register")])),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",D,[Object(n["g"])("button",{onClick:e[9]||(e[9]=function(){return B.register&&B.register.apply(B,arguments)})},"Register")])):Object(n["e"])("",!0),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",T,[Object(n["g"])("button",{onClick:e[10]||(e[10]=function(t){return E.registerToggle=!1})},"Login")])):Object(n["e"])("",!0)]))])}r("d81d");var E=r("0091"),B={data:function(){return{data:{email:"jill@harvard.edu",password:"asdfasdf"},registerData:{email:"",password:"",name:""},registerToggle:!1,errors:null,favorites:[]}},computed:{user:function(){return this.$store.state.user},posts:function(){return this.$store.state.posts}},methods:{loadFavorites:function(){var t=this;this.user&&E["a"].get("favorite/query?user_id="+this.user.id).then((function(e){t.favorites=e.data.favorite.map((function(e){return t.$store.getters.getPostById(e.post_id)}))}))},login:function(){var t=this;E["a"].post("login",this.data).then((function(e){e.data.authenticated?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))},register:function(){var t=this;E["a"].post("register",this.registerData).then((function(e){e.data.success?t.$store.commit("setUser",e.data.user):t.errors=e.data.errors}))},logout:function(){var t=this;E["a"].post("logout").then((function(e){e&&e.data&&e.data.success&&t.$store.commit("setUser",null)}))}},watch:{user:function(){this.loadFavorites()}},mounted:function(){this.loadFavorites()}};B.render=U;e["default"]=B},b0c0:function(t,e,r){var n=r("83ab"),c=r("9bf2").f,o=Function.prototype,a=o.toString,i=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&c(o,s,{configurable:!0,get:function(){try{return a.call(this).match(i)[1]}catch(t){return""}}})},d81d:function(t,e,r){"use strict";var n=r("23e7"),c=r("b727").map,o=r("1dde"),a=o("map");n({target:"Array",proto:!0,forced:!a},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-d9777ae2.943b5274.js.map