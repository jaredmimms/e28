(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9777ae2"],{"8fdc":function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),i={id:"account-page"},o={key:0},c={id:"favorites"},a=Object(n["g"])("strong",null,"Your Favorites",-1),s={key:0},l=Object(n["g"])("p",null,"No favorites yet.",-1),u={key:1},d={key:1,id:"loginForm"},b={key:0},g=Object(n["g"])("h2",null,"Login",-1),j=Object(n["f"])(" Email: "),O=Object(n["f"])(" Password: "),p={key:0},f={key:1},m=Object(n["g"])("h2",null,"Register",-1),v=Object(n["f"])(" Email: "),h=Object(n["f"])(" Name: "),y=Object(n["f"])(" Password: "),k={key:0},w={key:2},T={key:3},D={key:4};function U(e,t,r,U,E,B){return Object(n["p"])(),Object(n["d"])("div",i,[B.user&&B.user.name?(Object(n["p"])(),Object(n["d"])("div",o,[Object(n["g"])("h2",null,"Hi, "+Object(n["y"])(B.user.name)+"!",1),Object(n["g"])("div",c,[a,E.favorites&&0==E.favorites.length?(Object(n["p"])(),Object(n["d"])("div",s,[l])):(Object(n["p"])(),Object(n["d"])("div",u,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.favorites,(function(e,t){return Object(n["p"])(),Object(n["d"])("li",{key:t},Object(n["y"])(e.title),1)})),128))]))]),Object(n["g"])("button",{onClick:t[1]||(t[1]=function(){return B.logout&&B.logout.apply(B,arguments)}),id:"logout1"},"Logout")])):(Object(n["p"])(),Object(n["d"])("div",d,[E.registerToggle?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",b,[g,Object(n["g"])("div",null,[Object(n["g"])("label",null,[j,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return E.data.email=e})},null,512),[[n["B"],E.data.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[O,Object(n["E"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=function(e){return E.data.password=e})},null,512),[[n["B"],E.data.password]])])]),Object(n["g"])("button",{onClick:t[4]||(t[4]=function(){return B.login&&B.login.apply(B,arguments)}),id:"login1"},"Login"),E.errors?(Object(n["p"])(),Object(n["d"])("ul",p,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.errors,(function(e,t){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:t},Object(n["y"])(e),1)})),128))])):Object(n["e"])("",!0)])),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",f,[m,Object(n["g"])("div",null,[Object(n["g"])("label",null,[v,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=function(e){return E.registerData.email=e})},null,512),[[n["B"],E.registerData.email]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[h,Object(n["E"])(Object(n["g"])("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=function(e){return E.registerData.name=e})},null,512),[[n["B"],E.registerData.name]])])]),Object(n["g"])("div",null,[Object(n["g"])("label",null,[y,Object(n["E"])(Object(n["g"])("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=function(e){return E.registerData.password=e})},null,512),[[n["B"],E.registerData.password]])])]),E.errors?(Object(n["p"])(),Object(n["d"])("ul",k,[(Object(n["p"])(!0),Object(n["d"])(n["a"],null,Object(n["v"])(E.errors,(function(e,t){return Object(n["p"])(),Object(n["d"])("li",{class:"error",key:t},Object(n["y"])(e),1)})),128))])):Object(n["e"])("",!0)])):Object(n["e"])("",!0),E.registerToggle?Object(n["e"])("",!0):(Object(n["p"])(),Object(n["d"])("div",w,[Object(n["g"])("button",{onClick:t[8]||(t[8]=function(e){return E.registerToggle=!0}),id:"register1"}," Register ")])),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",T,[Object(n["g"])("button",{onClick:t[9]||(t[9]=function(){return B.register&&B.register.apply(B,arguments)}),id:"register2"},"Register")])):Object(n["e"])("",!0),E.registerToggle?(Object(n["p"])(),Object(n["d"])("div",D,[Object(n["g"])("button",{onClick:t[10]||(t[10]=function(e){return E.registerToggle=!1}),id:"login2"},"Login")])):Object(n["e"])("",!0)]))])}r("d81d");var E=r("0091"),B={data:function(){return{data:{email:"jill@harvard.edu",password:"asdfasdf"},registerData:{email:"jaredmimms@gmail.com",password:"hellothere",name:"Jared Mimms"},registerToggle:!1,errors:null,favorites:[]}},computed:{user:function(){return this.$store.state.user},posts:function(){return this.$store.state.posts}},methods:{loadFavorites:function(){var e=this;this.user&&E["a"].get("favorite/query?user_id="+this.user.id).then((function(t){e.favorites=t.data.favorite.map((function(t){return e.$store.getters.getPostById(t.post_id)}))}))},login:function(){var e=this;E["a"].post("login",this.data).then((function(t){t.data.authenticated?e.$store.commit("setUser",t.data.user):e.errors=t.data.errors}))},register:function(){var e=this;E["a"].post("register",this.registerData).then((function(t){t.data.success?(e.$store.commit("setUser",t.data.user),e.registerToggle=!1):e.errors=t.data.errors}))},logout:function(){var e=this;E["a"].post("logout").then((function(t){t&&t.data&&t.data.success&&e.$store.commit("setUser",null),e.registerToggle=!1}))}},watch:{user:function(){this.loadFavorites()}},mounted:function(){this.loadFavorites()}};B.render=U;t["default"]=B},b0c0:function(e,t,r){var n=r("83ab"),i=r("9bf2").f,o=Function.prototype,c=o.toString,a=/^\s*function ([^ (]*)/,s="name";n&&!(s in o)&&i(o,s,{configurable:!0,get:function(){try{return c.call(this).match(a)[1]}catch(e){return""}}})},d81d:function(e,t,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-d9777ae2.b4bee422.js.map