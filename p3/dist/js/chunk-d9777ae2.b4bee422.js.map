{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?b3b5","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["id","user","name","favorites","length","favorite","key","title","logout","registerToggle","type","data","email","password","login","errors","error","index","class","registerData","register","computed","this","$store","state","posts","methods","loadFavorites","get","then","response","map","getters","getPostById","post_id","post","authenticated","commit","success","watch","mounted","render","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined"],"mappings":"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","file":"js/chunk-d9777ae2.b4bee422.js","sourcesContent":["<template>\n  <div id=\"account-page\">\n    <div v-if=\"user && user.name\">\n      <h2>Hi, {{ user.name }}!</h2>\n\n      <div id=\"favorites\">\n        <strong>Your Favorites</strong>\n        <div v-if=\"favorites && favorites.length == 0\">\n          <p>No favorites yet.</p>\n        </div>\n        <div v-else>\n          <li v-for=\"(favorite, key) in favorites\" v-bind:key=\"key\">\n            {{ favorite.title }}\n          </li>\n        </div>\n      </div>\n\n      <button v-on:click=\"logout\" id=\"logout1\">Logout</button>\n    </div>\n\n    <div v-else id=\"loginForm\">\n      <div v-if=\"!registerToggle\">\n        <h2>Login</h2>\n        <div>\n          <label>\n            Email:\n            <input type=\"text\" v-model=\"data.email\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Password:\n            <input type=\"password\" v-model=\"data.password\" />\n          </label>\n        </div>\n\n        <button v-on:click=\"login\" id=\"login1\">Login</button>\n\n        <ul v-if=\"errors\">\n          <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n            {{ error }}\n          </li>\n        </ul>\n      </div>\n\n      <div v-if=\"registerToggle\">\n        <h2>Register</h2>\n        <div>\n          <label>\n            Email:\n            <input type=\"text\" v-model=\"registerData.email\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Name:\n            <input type=\"text\" v-model=\"registerData.name\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Password:\n            <input type=\"password\" v-model=\"registerData.password\" />\n          </label>\n        </div>\n\n        <ul v-if=\"errors\">\n          <li class=\"error\" v-for=\"(error, index) in errors\" :key=\"index\">\n            {{ error }}\n          </li>\n        </ul>\n      </div>\n\n      <div v-if=\"!registerToggle\">\n        <button v-on:click=\"registerToggle = true\" id=\"register1\">\n          Register\n        </button>\n      </div>\n      <div v-if=\"registerToggle\">\n        <button v-on:click=\"register\" id=\"register2\">Register</button>\n      </div>\n      <div v-if=\"registerToggle\">\n        <button v-on:click=\"registerToggle = false\" id=\"login2\">Login</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { axios } from \"@/common/app.js\";\nexport default {\n  data() {\n    return {\n      data: {\n        email: \"jill@harvard.edu\",\n        password: \"asdfasdf\",\n      },\n      registerData: {\n        email: \"jaredmimms@gmail.com\",\n        password: \"hellothere\",\n        name: \"Jared Mimms\",\n      },\n      registerToggle: false,\n      errors: null,\n      favorites: [],\n    };\n  },\n  computed: {\n    user() {\n      return this.$store.state.user;\n    },\n    posts() {\n      return this.$store.state.posts;\n    },\n  },\n  methods: {\n    loadFavorites() {\n      if (this.user) {\n        axios.get(\"favorite/query?user_id=\" + this.user.id).then((response) => {\n          this.favorites = response.data.favorite.map((favorite) => {\n            return this.$store.getters.getPostById(favorite.post_id);\n          });\n        });\n      }\n    },\n    login() {\n      axios.post(\"login\", this.data).then((response) => {\n        if (response.data.authenticated) {\n          this.$store.commit(\"setUser\", response.data.user);\n        } else {\n          this.errors = response.data.errors;\n        }\n      });\n    },\n    register() {\n      axios.post(\"register\", this.registerData).then((response) => {\n        if (response.data.success) {\n          this.$store.commit(\"setUser\", response.data.user);\n          this.registerToggle = false;\n        } else {\n          this.errors = response.data.errors;\n        }\n      });\n    },\n    logout() {\n      axios.post(\"logout\").then((response) => {\n        if (response && response.data && response.data.success) {\n          this.$store.commit(\"setUser\", null);\n        }\n        this.registerToggle = false;\n      });\n    },\n  },\n  watch: {\n    user() {\n      this.loadFavorites();\n    },\n  },\n  mounted() {\n    this.loadFavorites();\n  },\n};\n</script>","import { render } from \"./AccountPage.vue?vue&type=template&id=9018b9d0\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}